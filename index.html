<style>
    /* --- ANIMATION DEFINITIONS --- */

    /* 1. Screen Shake (Bomb phatne par) */
    @keyframes shake-hard {
        0% { transform: translate(0px, 0px) rotate(0deg); }
        10% { transform: translate(-5px, -5px) rotate(-1deg); filter: hue-rotate(-20deg); }
        20% { transform: translate(5px, 5px) rotate(1deg); }
        30% { transform: translate(-5px, 5px) rotate(0deg); }
        40% { transform: translate(5px, -5px) rotate(1deg); filter: hue-rotate(20deg); }
        50% { transform: translate(-2px, 2px) rotate(-1deg); }
        100% { transform: translate(0px, 0px) rotate(0deg); }
    }

    /* 2. Background Breathing (Zinda maahol) */
    @keyframes bg-breathe {
        0% { background-size: 100% 100%; filter: brightness(1); }
        50% { background-size: 105% 105%; filter: brightness(1.1); }
        100% { background-size: 100% 100%; filter: brightness(1); }
    }

    /* 3. Neon Pulse (Band dabbo ke liye) */
    @keyframes neon-pulse {
        0% { box-shadow: 0 0 5px rgba(0, 255, 204, 0.1); border-color: #333; }
        50% { box-shadow: 0 0 15px rgba(0, 255, 204, 0.4); border-color: #00ffcc; }
        100% { box-shadow: 0 0 5px rgba(0, 255, 204, 0.1); border-color: #333; }
    }

    /* 4. Gem Shine (Heere ki chamak) */
    @keyframes gem-shine {
        0% { filter: drop-shadow(0 0 5px #00ffcc) brightness(1); transform: scale(1); }
        50% { filter: drop-shadow(0 0 20px #00ffcc) brightness(1.3); transform: scale(1.05); }
        100% { filter: drop-shadow(0 0 5px #00ffcc) brightness(1); transform: scale(1); }
    }

    /* --- CORE STYLING --- */
    body {
        margin: 0; padding: 0;
        background-color: #020205; 
        color: white;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        height: 100vh; width: 100vw;
        overflow: hidden;
        display: flex; justify-content: center; align-items: center;
    }

    .game-wrapper {
        position: relative;
        width: 100%; height: 100%; max-width: 480px;
        background-image: url('assets/bg_mines.jpg'); 
        background-position: center;
        display: flex; flex-direction: column; justify-content: space-between;
        box-shadow: 0 0 40px rgba(0, 255, 255, 0.15);
        overflow: hidden; /* Shake effect bahar na jaye */

        /* Background Animation Active */
        animation: bg-breathe 15s infinite ease-in-out;
    }

    /* JS se ye class add hogi jab bomb phatega */
    .game-wrapper.shaking {
        animation: shake-hard 0.5s ease-in-out;
        border: 2px solid red; /* Laal jhatka */
    }

    /* --- HEADER --- */
    .header {
        padding: 15px 20px;
        display: flex; justify-content: space-between; align-items: center;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(0, 255, 204, 0.3);
        z-index: 10;
    }
    .logo { font-weight: 900; font-size: 20px; color: #fff; letter-spacing: 1px; text-shadow: 0 0 10px #00ffcc; }
    .balance-box {
        background: rgba(0, 20, 20, 0.8);
        border: 1px solid #00ffcc; color: #00ffcc;
        padding: 6px 15px; border-radius: 4px;
        font-weight: bold; font-family: monospace; font-size: 16px;
        box-shadow: 0 0 10px rgba(0, 255, 204, 0.2);
    }

    /* --- GRID AREA --- */
    .grid-container {
        flex-grow: 1;
        display: flex; flex-direction: column; justify-content: center; align-items: center;
        padding: 20px; position: relative;
    }
    .next-profit-badge {
        background: rgba(0,0,0,0.8); border: 1px solid #00ffcc;
        padding: 8px 16px; border-radius: 20px; margin-bottom: 15px;
        font-size: 14px; color: #bbb; opacity: 0; transition: opacity 0.3s;
        box-shadow: 0 0 15px rgba(0,255,204,0.2); /* Badge glow */
    }
    .next-profit-badge span { color: #00ffcc; font-weight: bold; font-size: 16px; }

    .mines-grid {
        display: grid; grid-template-columns: repeat(5, 1fr);
        gap: 8px; width: 100%; max-width: 360px;
        perspective: 1000px; /* 3D effect ke liye zaroori */
    }

    /* --- TILE ANIMATIONS (The Real Magic) --- */
    .tile {
        aspect-ratio: 1/1;
        background-color: #1a1a1a; 
        border-radius: 6px; cursor: pointer; position: relative;
        transform-style: preserve-3d; transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), filter 0.1s;
        background-image: url('assets/tile_closed.png');
        background-size: 100% 100%;
        box-shadow: 0 4px 0px rgba(0,0,0,0.5);
        border: 1px solid #333;

        /* Band dabbe ki dhadkan */
        animation: neon-pulse 3s infinite ease-in-out;
    }

    /* Hover Effect (Ungli rakhne par uchlega) */
    .tile:hover:not(.revealed) {
        transform: translateY(-5px) scale(1.03);
        box-shadow: 0 10px 20px rgba(0, 255, 204, 0.3);
        border-color: #00ffcc;
        z-index: 2;
    }
    .tile:active:not(.revealed) { transform: translateY(2px) scale(0.98); }

    /* Revealed State */
    .tile.revealed {
        transform: rotateY(180deg);
        background-color: #081015;
        box-shadow: inset 0 0 15px rgba(0,0,0,0.9);
        cursor: default;
        animation: none; /* Kholne ke baad pulse band */
        border: none;
    }
    
    .tile.revealed::after {
        content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        border-radius: 6px; backface-visibility: hidden;
        transform: rotateY(180deg);
        background-size: 85%; background-position: center; background-repeat: no-repeat;
    }

    /* Gem Style & Animation */
    .tile.gem { 
        box-shadow: 0 0 20px #00ffcc; /* Green Flash */
    }
    .tile.gem::after { 
        background-image: url('assets/tile_diamond.png'); 
        /* Heera chamkega */
        animation: gem-shine 2s infinite ease-in-out;
    }

    /* Bomb Style */
    .tile.bomb { 
        box-shadow: 0 0 30px #ff0044; /* Red Flash */
        background-color: #2a0000;
    }
    .tile.bomb::after { 
        background-image: url('assets/tile_bomb.png'); 
        filter: drop-shadow(0 0 15px #ff0044);
        transform: scale(1.1); /* Bomb thoda bada dikhega */
    }

    .tile.faded { opacity: 0.2; filter: grayscale(1); animation: none; }

    /* --- CONTROLS --- */
    .controls-panel {
        background: rgba(15, 20, 25, 0.95); padding: 20px;
        border-top: 1px solid #333; display: flex; flex-direction: column; gap: 12px; z-index: 20;
    }
    .bet-row { display: flex; justify-content: space-between; gap: 12px; }
    .input-group { flex: 1; display: flex; flex-direction: column; gap: 5px; }
    label { font-size: 11px; color: #888; text-transform: uppercase; letter-spacing: 1px; }
    input, select {
        background: #222; border: 1px solid #444; color: white; padding: 12px;
        border-radius: 6px; font-weight: bold; font-size: 16px; outline: none; text-align: center;
        transition: all 0.3s;
    }
    input:focus, select:focus { border-color: #00ffcc; box-shadow: 0 0 10px rgba(0,255,204,0.2); }

    .action-btn {
        background: #00ffcc; border: none; color: #000; padding: 16px;
        border-radius: 6px; font-size: 18px; font-weight: 900; text-transform: uppercase;
        cursor: pointer; box-shadow: 0 0 20px rgba(0, 255, 204, 0.3);
        transition: all 0.2s; position: relative; overflow: hidden;
    }
    .action-btn:hover { transform: translateY(-2px); box-shadow: 0 0 30px rgba(0, 255, 204, 0.6); }
    .action-btn:active { transform: scale(0.98); }

    .cashout-btn {
        background: #ffcc00; box-shadow: 0 0 20px rgba(255, 204, 0, 0.4);
        display: none; flex-direction: column; align-items: center; line-height: 1.2;
    }
    .cashout-btn:hover { box-shadow: 0 0 40px rgba(255, 204, 0, 0.7); }
    .cashout-subtext { font-size: 12px; font-weight: normal; opacity: 0.8; }

    /* --- MESSAGES --- */
    .message-overlay {
        position: absolute; top: 40%; left: 50%;
        transform: translate(-50%, -50%) scale(0); opacity: 0;
        background: rgba(0,0,0,0.9); padding: 20px 40px;
        border-radius: 15px; border: 3px solid; text-align: center; z-index: 100;
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); /* Bouncy effect */
    }
    .message-overlay.show { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    .msg-win { border-color: #00ffcc; color: #00ffcc; box-shadow: 0 0 50px rgba(0,255,204,0.5); }
    .msg-lose { border-color: #ff0044; color: #ff0044; box-shadow: 0 0 50px rgba(255,0,68,0.5); }
    .msg-title { font-size: 28px; font-weight: 900; margin-bottom: 5px; text-transform: uppercase; }
    .msg-amount { font-size: 22px; color: white; font-weight: bold; }
</style>
